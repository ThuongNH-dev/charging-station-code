/* ========================================================= */
/* 1. BI·∫æN CHUNG & KHUNG LAYOUT */
/* ========================================================= */
:root {
  /* M√†u s·∫Øc c∆° b·∫£n */
  --primary-color: #007bff; /* Xanh d∆∞∆°ng (Blue) */
  --secondary-color: #6c757d; /* X√°m (Gray) */
  --text-color: #333; /* Ch·ªØ ƒë·∫≠m */
  --text-light: #f1f1f1; /* Ch·ªØ s√°ng */

  /* M√†u n·ªÅn & ƒê∆∞·ªùng vi·ªÅn */
  --background-color: #f4f7f9; /* N·ªÅn trang nh·∫π */
  --card-bg: #fff; /* N·ªÅn th·∫ª/panel */
  --border-color: #eee; /* ƒê∆∞·ªùng vi·ªÅn nh·∫π */

  /* M√†u tr·∫°ng th√°i */
  --success-color: #28a745; /* T·ªët (Tr·∫°m A, D) / Thu√™ bao (Service) */
  --danger-color: #dc3545; /* Th·∫•p (Tr·∫°m B, C) */
  --warning-color: #ffc107; /* Trung b√¨nh (Tr·∫°m E) / Tr·∫£ tr∆∞·ªõc (Service) */
  --member-color: var(--primary-color); /* M√†u ch√≠nh cho H·ªôi vi√™n */

  /* Heatmap (N·ªÅn t·ªëi) */
  --bg-dark: #2c2f33;
  --heatmap-header-bg: #4a4d52;
  --heatmap-day-bg: #3f4247;
}

/* üéØ TRI·ªÜT TI√äU L·ªñI "√î VU√îNG V√ÄNG" (FOCUS RING) C·ª¶A TR√åNH DUY·ªÜT */
/* ƒê·∫£m b·∫£o lo·∫°i b·ªè outline m·∫∑c ƒë·ªãnh cho t·∫•t c·∫£ c√°c ph·∫ßn t·ª≠ t∆∞∆°ng t√°c */
button:focus,
input:focus,
select:focus,
textarea:focus,
a:focus,
*:focus {
  /* Quan tr·ªçng: S·ª≠ d·ª•ng outline: 0 v√† !important ƒë·ªÉ override vi·ªÅn v√†ng/xanh lam m·∫∑c ƒë·ªãnh */
  outline: 0 !important;
  /* √Åp d·ª•ng border-radius c·ªßa ph·∫ßn t·ª≠ ƒë·ªÉ box-shadow kh√¥ng b·ªã vu√¥ng g√≥c qu√° m·ª©c */
  border-radius: inherit;
}

/* üü¢ Th√™m l·∫°i hi·ªáu ·ª©ng focus T√ôY CH·ªàNH cho ng∆∞·ªùi d√πng b√†n ph√≠m (Accessibility) */
*:focus-visible {
  /* S·ª≠ d·ª•ng box-shadow ƒë·ªÉ m√¥ ph·ªèng vi·ªÅn m√†u xanh lam t√πy ch·ªânh */
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.4);
  outline: none; /* ƒê·∫£m b·∫£o kh√¥ng c√≥ outline */
}

/* Khung trang ch√≠nh */
.reports-page {
  display: grid;
  /* C·ªôt n·ªôi dung ch√≠nh (1fr) v√† c·ªôt sidebar (300px) */
  grid-template-columns: 1fr 300px;
  gap: 20px;
  padding: 20px;
  background-color: var(--background-color);
}

.admin-title {
  grid-column: 1 / 3; /* Chi·∫øm c·∫£ 2 c·ªôt */
  font-size: 2rem;
  font-weight: 700;
  color: var(--text-color);
  margin-bottom: 20px;
}

/* -------------------------------------------------------- */
/* 2. HEADER CONTROLS (B·ªô l·ªçc & Export) */
/* -------------------------------------------------------- */
.report-header-controls {
  grid-column: 1 / 3;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 20px;
  background-color: var(--card-bg);
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
}

.report-header-controls .filter-group {
  display: flex;
  gap: 10px;
  align-items: center;
}

.report-header-controls .filter-label {
  font-weight: 600;
  color: var(--secondary-color);
  font-size: 0.95rem;
}

.report-header-controls .filter-dropdown {
  padding: 8px 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  cursor: pointer;
  background-color: var(--card-bg);
  color: var(--text-color);
  font-size: 0.9rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}

/* KH·∫ÆC PH·ª§C FOCUS RING: D√πng box-shadow thay cho outline m·∫∑c ƒë·ªãnh khi click (d√πng chu·ªôt) */
.report-header-controls .filter-dropdown:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}

.report-header-controls .export-buttons .btn {
  padding: 8px 15px;
  margin-left: 10px;
  border-radius: 6px;
  border: 1px solid var(--secondary-color);
  background-color: var(--card-bg);
  color: var(--secondary-color);
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s;
}

/* KH·∫ÆC PH·ª§C FOCUS RING: Th√™m hi·ªáu ·ª©ng focus cho n√∫t export khi click (d√πng chu·ªôt) */
.report-header-controls .export-buttons .btn:focus {
  background-color: #f1f1f1;
  color: var(--text-color);
  border-color: var(--primary-color);
  box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.2);
}

.report-header-controls .export-buttons .btn:hover {
  background-color: #f1f1f1;
  color: var(--text-color);
  border-color: #ccc;
}

/* -------------------------------------------------------- */
/* 3. REPORT VIEW OPTIONS (N√∫t ch·ªçn b√°o c√°o chi ti·∫øt) */
/* -------------------------------------------------------- */
.report-view-options {
  grid-column: 1 / 3;
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.report-view-options .view-btn {
  padding: 10px 18px;
  border: none;
  background-color: #e9ecef; /* N·ªÅn nh·∫π nh√†ng */
  color: var(--secondary-color);
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  font-size: 0.95rem;
  transition: background-color 0.2s, color 0.2s, transform 0.1s, box-shadow 0.2s;
}

.report-view-options .view-btn:hover {
  background-color: #dee2e6;
  color: var(--text-color);
}

.report-view-options .view-btn.active {
  background-color: var(--primary-color);
  color: white;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(0, 123, 255, 0.3);
}

/* KH·∫ÆC PH·ª§C FOCUS RING: Th√™m hi·ªáu ·ª©ng focus cho view button khi click (d√πng chu·ªôt) */
.report-view-options .view-btn:focus {
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.4);
}

/* -------------------------------------------------------- */
/* 4. REPORT CONTENT AREA (Khu v·ª±c bi·ªÉu ƒë·ªì ch√≠nh) */
/* -------------------------------------------------------- */
.report-content-area {
  grid-column: 1 / 2;
  background-color: var(--card-bg);
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Shadow r√µ r√†ng h∆°n */
}

.report-content-area h4 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-color);
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 15px;
  margin: 0 0 20px 0;
}

/* --- Hi·ªáu su·∫•t xu·∫•t tr·∫°m (Station Output) --- */
.report-chart-section {
  display: flex;
  gap: 25px;
  margin-bottom: 40px;
}

.chart-box {
  flex: 1;
  min-height: 280px;
}

.chart-placeholder {
  height: 220px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  background-color: #f9f9f9;
  border: 1px dashed var(--border-color);
  border-radius: 6px;
  position: relative;
  padding: 10px 0;
}

.bar-chart img,
.line-chart img {
  max-width: 98%;
  height: 180px;
  object-fit: contain;
  margin-bottom: 5px;
}

.chart-x-axis {
  display: flex;
  justify-content: space-around;
  width: 100%;
  font-size: 0.85rem;
  color: var(--secondary-color);
  padding-top: 5px;
  font-weight: 500;
}

/* --- HEATMAP STYLE --- */
.heatmap-section {
  background-color: var(--bg-dark);
  color: var(--text-light);
  padding: 20px;
  border-radius: 10px;
}

.heatmap-title {
  color: var(--text-light);
  border-bottom: 1px solid #444;
  padding-bottom: 10px;
  margin-bottom: 15px;
}

.heatmap-description {
  font-size: 0.95rem;
  margin-bottom: 20px;
  color: #ccc;
}

.heatmap-grid {
  /* C·ªôt nh√£n ng√†y (80px) v√† 24 c·ªôt gi·ªù (1fr) */
  grid-template-columns: 80px repeat(24, 1fr);
  display: grid;
  gap: 1px; /* Kho·∫£ng c√°ch nh·ªè gi·ªØa c√°c √¥ */
  font-size: 0.8rem;
  overflow-x: auto;
  border: 1px solid #444; /* Vi·ªÅn t·ªïng th·ªÉ cho heatmap */
}

.heatmap-row {
  display: contents;
}

.heatmap-cell {
  padding: 5px 2px;
  text-align: center;
  line-height: 1;
  height: 25px; /* Chi·ªÅu cao √¥ nh·ªè h∆°n */
  display: flex;
  align-items: center;
  justify-content: center;
}

.day-label {
  font-weight: bold;
  background-color: var(--heatmap-day-bg);
  color: var(--text-light);
  text-align: left;
  padding-left: 10px;
}

.hour-header {
  background-color: var(--heatmap-header-bg);
  font-size: 0.75rem;
  font-weight: 600;
}

/* C∆∞·ªùng ƒë·ªô m√†u cho Data Cell (S·ª≠ d·ª•ng theme xanh l√° ƒë·∫≠m/teal) */
.data-cell {
  background-color: #1a1a1a;
  border-radius: 0;
}

.intensity-low {
  background-color: #004d40;
}
.intensity-medium {
  background-color: #00796b;
}
.intensity-medium-high {
  background-color: #00a08e;
}
.intensity-high {
  background-color: #00c6ad;
}

.heatmap-note {
  font-size: 0.85rem;
  margin-top: 15px;
  color: #999;
  text-align: right;
}

/* Placeholder cho c√°c n·ªôi dung ch∆∞a tri·ªÉn khai */
.placeholder-content {
  min-height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  color: var(--secondary-color);
  border: 2px dashed var(--border-color);
  border-radius: 8px;
  padding: 20px;
}

/* -------------------------------------------------------- */
/* 5. SIDEBAR (KPI, C·∫£nh b√°o, Danh s√°ch tr·∫°m) */
/* -------------------------------------------------------- */
.report-sidebar {
  grid-column: 2 / 3;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.card {
  background-color: var(--card-bg);
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.card h3 {
  margin-top: 0;
  margin-bottom: 20px;
  font-size: 1.3rem;
  color: var(--text-color);
  font-weight: 600;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 10px;
}

/* --- KPI Boxes --- */
.kpi-box {
  padding: 15px 0;
  border-bottom: 1px solid var(--border-color);
}
.kpi-box:last-child {
  border-bottom: none;
}

.kpi-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  color: var(--secondary-color);
  margin-bottom: 8px;
}

.kpi-icon {
  font-size: 1.1rem;
}

.kpi-value {
  font-size: 1.8rem;
  font-weight: bold;
  color: var(--text-color);
  margin-bottom: 5px;
}

.kpi-change {
  font-size: 1rem;
  display: flex;
  align-items: center;
  font-weight: 600;
}

.kpi-change .anticon {
  margin-right: 5px;
}

.kpi-change.positive {
  color: var(--success-color);
}

.kpi-change.negative {
  color: var(--secondary-color);
}

/* --- Warning/Station List Items --- */
.warning-item,
.station-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid var(--border-color);
}
.warning-item:last-child,
.station-list-item:last-child {
  border-bottom: none;
}

.warning-name,
.station-name {
  font-weight: 600;
  color: var(--text-color);
  font-size: 1rem;
}

.warning-usage,
.station-capacity {
  font-size: 0.85rem;
  color: var(--secondary-color);
  margin-top: 4px;
}

.warning-status {
  padding: 6px 12px;
  border-radius: 50px; /* Bo tr√≤n ho√†n to√†n */
  font-size: 0.85rem;
  font-weight: bold;
  color: white;
  min-width: 50px;
  text-align: center;
}

.warning-status.success {
  background-color: var(--success-color);
}

.warning-status.danger {
  background-color: var(--danger-color);
}

.warning-status.warning {
  background-color: var(--warning-color);
  color: var(--text-color); /* Ch·ªØ ƒëen cho n·ªÅn v√†ng */
}

.station-usage-percent {
  font-size: 1.2rem;
  font-weight: bold;
  color: var(--primary-color);
}

/* ========================================================= */
/* 6. AREA COMPARISON (So s√°nh khu v·ª±c) */
/* ========================================================= */
.comparison-title {
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--text-color);
  margin-bottom: 25px;
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 15px;
}

.area-boxes-container {
  display: flex;
  gap: 20px;
  margin-bottom: 40px;
}

.area-box {
  flex: 1;
  background-color: #f9f9f9;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
}

.area-name {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--secondary-color);
  margin-top: 0;
  margin-bottom: 5px;
}

.area-revenue {
  font-size: 2.2rem;
  font-weight: bold;
  color: var(--primary-color);
  margin-bottom: 15px;
}

.area-sessions-usage {
  font-size: 0.95rem;
  color: var(--text-color);
  margin-bottom: 15px;
}

/* Thanh s·ª≠ d·ª•ng trung b√¨nh (Usage Bar) */
.usage-bar-wrapper {
  height: 5px;
  width: 100%;
  background-color: #e0e0e0;
  border-radius: 3px;
  margin-top: 10px;
}

.usage-bar {
  height: 100%;
  background-color: var(--primary-color);
  border-radius: 3px;
  transition: width 0.5s ease-out;
}

/* --- B·∫£ng Chi ti·∫øt Tr·∫°m --- */
.detailed-table-container h4 {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-color);
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 15px;
}

.station-detail-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}

.station-detail-table thead th:first-child {
  border-top-left-radius: 8px;
}
.station-detail-table thead th:last-child {
  border-top-right-radius: 8px;
}

.station-detail-table th,
.station-detail-table td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid var(--border-color);
}

.station-detail-table th {
  background-color: #f8f9fa;
  font-weight: 600;
  color: var(--secondary-color);
  text-transform: uppercase;
  font-size: 0.85rem;
}

.station-detail-table tbody tr:hover {
  background-color: #f1f1f1;
}

.station-detail-table tbody tr:last-child td {
  border-bottom: none;
}

/* Status Badge */
.status-badge {
  padding: 5px 10px;
  border-radius: 4px;
  font-weight: 500;
  font-size: 0.8rem;
  color: white;
}

.status-badge.online {
  background-color: var(--success-color);
}

.status-badge.offline {
  background-color: var(--danger-color);
}

.status-badge.c·∫ßn-ki·ªÉm-tra {
  background-color: var(--warning-color);
  color: var(--text-color);
}

/* ========================================================= */
/* 7. TIME CHART (Bi·ªÉu ƒë·ªì Th·ªùi gian) - ƒê√É S·ª¨A L·ªñI CƒÇN CH·ªàNH */
/* ========================================================= */
.time-chart-content {
  /* T∆∞∆°ng t·ª± report-content-area */
  padding: 30px;
}
.time-chart-sessions {
  margin-bottom: 40px;
}

.chart-area {
  display: flex;
  position: relative;
  /* TƒÉng padding-left ƒë·ªÉ ch·ª´a ƒë·ªß kh√¥ng gian cho tr·ª•c Y l·ªõn */
  padding-left: 60px;
  margin-bottom: 20px;
}

/* --- Tr·ª•c Y chung (ƒê√£ s·ª≠a l·ªói cƒÉn ch·ªânh) --- */
.chart-y-axis,
.chart-y-axis-line {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  /* Quan tr·ªçng: CƒÉn ƒë·ªÅu c√°c nh√£n */
  justify-content: space-between;
  align-items: flex-end;
  font-size: 0.8rem;
  color: var(--secondary-color);
  padding-right: 5px;
  /* ƒê·∫∑t padding top/bottom b·∫±ng 0 ƒë·ªÉ ƒë·∫£m b·∫£o nh√£n s√°t ƒë·ªânh v√† ƒë√°y */
  padding-top: 0;
  padding-bottom: 0;
}

/* S·ª¨A L·ªñI: ƒêi·ªÅu ch·ªânh v·ªã tr√≠ c·ªßa c√°c nh√£n tr√™n tr·ª•c Y */
.chart-y-axis span,
.chart-y-axis-line span {
  display: block;
  /* D√πng transform: translateY(-50%) ƒë·ªÉ cƒÉn nh√£n ch√≠nh x√°c v√†o gi·ªØa ƒë∆∞·ªùng k·∫ª (tr·ª´ nh√£n 0 v√† nh√£n max) */
  transform: translateY(-50%);
}

.chart-y-axis span:first-child,
.chart-y-axis-line span:first-child {
  /* Nh√£n ƒë·∫ßu (Max value) cƒÉn th·∫≥ng l√™n ƒë·ªânh */
  transform: translateY(0%);
}

.chart-y-axis span:last-child,
.chart-y-axis-line span:last-child {
  /* Nh√£n cu·ªëi (Gi√° tr·ªã 0) cƒÉn th·∫≥ng xu·ªëng ƒë√°y tr·ª•c X */
  transform: translateY(50%);
}

/* --- Bi·ªÉu ƒë·ªì C·ªôt (Sessions) --- */
.bar-chart-area {
  border-bottom: 1px solid var(--border-color); /* Tr·ª•c X */
  width: 100%;
  /* C·∫ßn padding-top ƒë·ªÉ ch·ª´a ch·ªó cho gi√° tr·ªã tr√™n ƒë·ªânh c·ªôt */
  padding-top: 20px;
  padding-bottom: 0;
}

.chart-data-container {
  display: flex;
  width: 100%;
  height: 100%;
  align-items: flex-end;
  justify-content: space-around;
}

.chart-bar-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 10%;
  /* Gi·∫£m margin-bottom xu·ªëng 0 ƒë·ªÉ c√°c c·ªôt s√°t tr·ª•c X */
  margin-bottom: 0;
}

.chart-bar {
  width: 100%;
  background-color: var(--primary-color);
  border-radius: 4px 4px 0 0;
  transition: height 0.3s ease-out;
  position: relative;
  display: flex;
  justify-content: center;
}

/* S·ª¨A L·ªñI: CƒÉn ch·ªânh gi√° tr·ªã c·ªôt (top value) */
.bar-value {
  position: absolute;
  top: 0;
  /* D·ªãch chuy·ªÉn l√™n tr√™n 100% chi·ªÅu cao c·ªßa ch√≠nh n√≥ */
  transform: translateY(-100%);
  padding-bottom: 3px;
  font-size: 0.8rem;
  color: var(--text-color);
  font-weight: 600;
}

/* S·ª¨A L·ªñI: CƒÉn ch·ªânh nh√£n ng√†y */
.bar-label {
  font-size: 0.85rem;
  color: var(--secondary-color);
  /* ƒê·∫©y nh√£n ng√†y xu·ªëng d∆∞·ªõi tr·ª•c X */
  margin-top: 5px;
}

/* --- Bi·ªÉu ƒë·ªì ƒê∆∞·ªùng (Revenue) --- */
.line-chart-area {
  border-bottom: 1px solid var(--border-color); /* Tr·ª•c X */
  width: 100%;
  position: relative;
  /* C·∫ßn padding-top cho gi√° tr·ªã tr√™n ƒë∆∞·ªùng */
  padding-top: 20px;
  padding-bottom: 0;
}

/* V√πng t√¥ m√†u d∆∞·ªõi ƒë∆∞·ªùng (S·ª≠ d·ª•ng clip-path ƒë·ªÉ m√¥ ph·ªèng) */
.chart-line-visual {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to top,
    rgba(0, 123, 255, 0.1),
    rgba(0, 123, 255, 0.4)
  );
  border-bottom: 2px solid var(--primary-color);
  border-radius: 0 0 5px 5px;
  transition: clip-path 0.5s ease-out;
}

/* Data Points (Ch·∫•m tr√≤n) */
.data-point {
  position: absolute;
  width: 8px;
  height: 8px;
  background-color: var(--primary-color);
  border: 2px solid var(--card-bg);
  border-radius: 50%;
  /* D·ªãch chuy·ªÉn -50% theo X v√† 50% theo Y ƒë·ªÉ t√¢m ch·∫•m tr√≤n n·∫±m ƒë√∫ng t·ªça ƒë·ªô */
  transform: translate(-50%, 50%);
  z-index: 2;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
}

.chart-x-axis-line {
  display: flex;
  justify-content: space-between;
  width: calc(100% - 60px); /* B√π tr·ª´ kh√¥ng gian tr·ª•c Y ƒë√£ tƒÉng */
  margin-left: 60px;
  font-size: 0.85rem;
  color: var(--secondary-color);
  padding-top: 5px;
}

/* ========================================================= */
/* 8. SERVICE STRUCTURE CHART (C∆° c·∫•u D·ªãch v·ª•) - ƒê√É B·ªî SUNG */
/* ========================================================= */

.service-structure-content .comparison-title {
  margin-bottom: 25px;
}

/* --- Tr·ª•c Y cho Bi·ªÉu ƒë·ªì C·ªôt X·∫øp ch·ªìng (Stacked Bar Chart) --- */
.stacked-bar-chart-area {
  position: relative;
  border-bottom: 1px solid var(--border-color); /* Tr·ª•c X */
  padding-left: 60px;
  padding-top: 20px;
  margin-bottom: 30px;
}

.stacked-y-axis {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: flex-end;
  font-size: 0.8rem;
  color: var(--secondary-color);
  padding-right: 5px;
  padding-top: 0;
  padding-bottom: 0;
}

/* L∆∞·ªõi (Grid lines) */
.chart-grid-lines {
  position: absolute;
  top: 0;
  right: 0;
  width: calc(100% - 60px);
  height: 100%;
  pointer-events: none;
  /* CƒÉn ch·ªânh ƒë·ªÉ grid lines kh·ªõp v·ªõi nh√£n tr·ª•c Y */
  transform: translateY(-10px);
}

.grid-line {
  position: absolute;
  width: 100%;
  border-top: 1px dashed #e0e0e0;
}

/* Container C·ªôt */
.stacked-bar-container {
  height: 100%;
  display: flex;
  align-items: flex-end;
  justify-content: space-around;
}

.stacked-bar-wrapper {
  width: 15%; /* R·ªông h∆°n so v·ªõi bi·ªÉu ƒë·ªì c·ªôt th∆∞·ªùng */
}

.stacked-bar {
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  border-radius: 4px 4px 0 0;
  overflow: hidden;
  position: relative;
}

/* Gi√° tr·ªã t·ªïng tr√™n ƒë·ªânh c·ªôt */
.total-value {
  position: absolute;
  top: 0;
  transform: translateY(-100%);
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-color);
  padding-bottom: 5px;
}

/* C√°c Segment b√™n trong c·ªôt */
.bar-segment {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-light); /* M√†u ch·ªØ tr·∫Øng */
}

.segment-percent {
  font-size: 0.75rem;
  font-weight: 500;
}

/* --- Ch√∫ th√≠ch (Legend) chung --- */
.chart-legend {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 15px;
  padding-bottom: 10px;
  flex-wrap: wrap;
}

.legend-item {
  display: flex;
  align-items: center;
  font-size: 0.9rem;
  color: var(--secondary-color);
}

.legend-color {
  display: block;
  width: 12px;
  height: 12px;
  border-radius: 3px;
  margin-right: 6px;
}

/* --- Bi·ªÉu ƒë·ªì Tr√≤n (Pie Chart) --- */
.pie-chat-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 40px;
  margin: 40px 0;
  flex-wrap: wrap;
}

.pie-chart {
  width: 250px;
  height: 250px;
  border-radius: 50%;
  position: relative;
  /* Xoay ƒë·ªÉ segment ƒë·∫ßu ti√™n b·∫Øt ƒë·∫ßu t·ª´ ƒë·ªânh */
  transform: rotate(-90deg);
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
}

.pie-label-placeholder {
  position: absolute;
  top: 50%;
  left: 50%;
  /* ƒê·∫©y nh√£n ra kh·ªèi t√¢m (1/2 ƒë∆∞·ªùng k√≠nh - 1/2 k√≠ch th∆∞·ªõc nh√£n) */
  transform-origin: 0 0;
  font-size: 0.85rem;
  color: white;
  font-weight: bold;
}

.pie-legend {
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
}

/* Media Query cho Responsive (T·ªëi ∆∞u h√≥a hi·ªÉn th·ªã tr√™n m√†n h√¨nh nh·ªè) */
@media (max-width: 1200px) {
  .reports-page {
    grid-template-columns: 1fr; /* Sidebar xu·ªëng d∆∞·ªõi */
  }
  .report-header-controls,
  .admin-title,
  .report-view-options,
  .report-content-area,
  .report-sidebar {
    grid-column: 1 / 2;
  }
  .report-header-controls {
    flex-direction: column;
    align-items: flex-start;
    gap: 15px;
  }
  .report-chart-section {
    flex-direction: column;
  }
  /* B·ªï sung cho Mobile */
  .area-boxes-container {
    flex-direction: column;
  }
}
